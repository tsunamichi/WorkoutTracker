---
description: MUST clear cache and reload after every code/UI change so the user sees updates. Do this automaticallyâ€”do not wait for the user to say they don't see changes.
globs: 
  - "**/*.tsx"
  - "**/*.ts"
  - "**/*.jsx"
  - "**/*.js"
---

# See changes: clear cache + reload (every time)

**After every code or UI change**, do the following so the user sees updates without having to ask. Do not skip this; do not wait for "I don't see the changes."

## 1. Kill Metro and clear caches (from project root)

If the workspace is `WorkoutTracker/ios`, use the full path. Otherwise run from repo root.

```bash
cd /Users/fcasanov/Projects/WorkoutTracker && lsof -ti :8081 | xargs kill -9 2>/dev/null; rm -rf node_modules/.cache .expo/cache $TMPDIR/metro-* $TMPDIR/haste-* 2>/dev/null; npx expo start --clear --port 8081
```

Run that command **in the background** so the dev server stays up.

## 2. Tell the user

Say: "Cache cleared and Metro restarted with a fresh bundle. Reload the app in the simulator (**Cmd+R**) to see the changes."

If they run the app via `expo run:ios`, they can press **r** in the Metro terminal to reload, or **Cmd+R** in the simulator.

## 3. Project root

All JS/TS source lives under **WorkoutTracker** (the folder with `package.json` and `src/`). The **ios** folder is native only. Always run Metro and npm from **WorkoutTracker**, not from **WorkoutTracker/ios**.

No exceptions: after any edit to app code, clear cache, start Metro, and tell the user to reload.
